= fslint-plugin-api
image:https://img.shields.io/badge/License-PMPL--1.0-blue.svg[License: PMPL-1.0,link="https://github.com/hyperpolymath/palimpsest-license"]




image:https://img.shields.io/badge/Philosophy-Palimpsest-indigo.svg[Palimpsest,link="https://github.com/hyperpolymath/palimpsest-license"]


:toc:
:toc-title: Contents
:sectnums:

image:https://img.shields.io/badge/Rust-1.70+-orange.svg[Rust 1.70+]
image:https://img.shields.io/badge/RSR-Tier%201-gold.svg[RSR Tier 1]

**Plugin API for FSLint - trait definitions and core types for building file scanning plugins.**

== Overview

This crate provides the core trait and types needed to build plugins for https://github.com/hyperpolymath/file-soup[FSLint] (part of file-soup). It defines the `Plugin` trait that all scanner plugins must implement.

=== Features

* **Type-safe plugin interface** - Strongly typed API prevents common errors
* **Rich result types** - Detailed status and metadata for scan results
* **Zero dependencies** - Minimal footprint for plugin development
* **RSR Tier 1** - First-class Rust support

== Installation

Add to your `Cargo.toml`:

[source,toml]
----
[dependencies]
fslint-plugin-api = "0.1"
----

== Quick Start

[source,rust]
----
use fslint_plugin_api::{Plugin, PluginContext, PluginResult, PluginMetadata, PluginError};

pub struct MyPlugin;

impl Plugin for MyPlugin {
    fn metadata() -> PluginMetadata {
        PluginMetadata {
            name: "my-plugin".into(),
            version: "0.1.0".into(),
            description: "My custom file scanner".into(),
            author: Some("Your Name".into()),
            enabled_by_default: true,
        }
    }

    fn check(&self, context: &PluginContext) -> Result<PluginResult, PluginError> {
        // Your plugin logic here
        Ok(PluginResult::active("my-plugin", "Found something"))
    }
}
----

== API Reference

=== Core Trait

==== `Plugin`

The main trait all plugins must implement:

[source,rust]
----
pub trait Plugin {
    fn metadata() -> PluginMetadata;
    fn check(&self, context: &PluginContext) -> Result<PluginResult, PluginError>;
}
----

=== Types

[cols="1,3"]
|===
|Type |Description

|`Plugin`
|The main trait all plugins implement

|`PluginContext`
|Context passed to plugins (file path, metadata, etc.)

|`PluginResult`
|Result returned by plugin checks

|`PluginStatus`
|Status enum: Active, Inactive, Alert, Warning, Error, Skipped

|`PluginMetadata`
|Plugin name, version, description, author

|`PluginError`
|Error types for plugin operations

|===

=== Status Types

[source,rust]
----
pub enum PluginStatus {
    Active,    // Plugin found something noteworthy
    Inactive,  // Plugin ran but found nothing
    Alert,     // High-priority finding
    Warning,   // Medium-priority finding
    Error,     // Plugin encountered an error
    Skipped,   // Plugin skipped this file
}
----

== Related Crates

* https://github.com/hyperpolymath/fslint-plugin-sdk[fslint-plugin-sdk] - SDK with helper utilities
* https://github.com/hyperpolymath/file-soup[file-soup] - The main FSLint application

== License

PMPL-1.0 OR PMPL-1.0

See link:LICENSE-PMPL-1.0[LICENSE-PMPL-1.0] for details.

== Contributing

Contributions welcome! Please read link:CONTRIBUTING.md[CONTRIBUTING.md] first.
